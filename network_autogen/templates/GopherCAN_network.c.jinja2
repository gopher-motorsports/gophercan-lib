// AUTO_GENERATED BY network_autogen/autogen.py

#include "GopherCAN_network.h"

// *** MODULES ***

uint8_t module_bus_number[NUM_OF_MODULES] = {
    ALL_BUSSES,
    {% for name, module in modules.items() -%}
    {{ module.buses[0] }},
    {% endfor %}
};

// *** PARAMETERS ***

CAN_INFO_STRUCT empty_param = {0};
{% for id, param in parameters.items() %}
{{ param_structs[param.type] }} {{ param.name }} = {
    .info = {
        .ID = {{ param.name.upper() }}_ID,
        .GROUP_ID = {{ param.group_id }},
        .TYPE = {{ param.type }},
        .SIZE = {{ param.type }}_SIZE,
        .ENC = {{ param.encoding }},
        .ENC_SIZE = {{ param.length }},
        .SCALE = {{ param.scale }},
        .OFFSET = {{ param.offset }},
        .last_tx = 0,
        .last_rx = 0,
        .pending_response = 0,
    },
    .data = 0
};
{% endfor %}
void* PARAMETERS[NUM_OF_PARAMETERS] = {
    &empty_param,
    {% for id, param in parameters.items() -%}
    &{{ param.name }},
    {% endfor %}
};

// *** GROUPS ***

PARAM_GROUP GROUPS[NUM_OF_GROUPS] = {
    {% for id, group in groups.items() -%}
    {
        .group_id = {{ id }},
        .param_ids = {
            {%- for name in group %}{{ name }}, {% endfor -%}}
    },
    {% endfor %}
};