// AUTO_GENERATED BY network_autogen/autogen.py

#include "GopherCAN_network.h"

// *** MODULES ***

U8 module_bus_number[NUM_OF_MODULES] = {
    ALL_BUSSES,
    {% for name, module in modules.items() -%}
    {{ module.buses[0] }},
    {% endfor %}
};

// *** PARAMETERS ***
{% for id, param in parameters.items() %}
{{ param_structs[param.type] }} {{ param.name }} = {
    .info = {
        .ID = {{ param.name.upper() }}_ID,
        .GROUP_ID = {{ param.group_id }},
        .TYPE = {{ param.type }},
        .SIZE = {{ param.type }}_SIZE,
        .ENC = {{ param.encoding }},
        .SCALE = {{ param.scale }},
        .OFFSET = {{ param.offset }},
        .last_tx = 0,
        .last_rx = 0,
        .pending_response = 0,
    },
    .data = 0
};
{% endfor %}
void* PARAMETERS[NUM_OF_PARAMETERS] = {
    &can_command,
    {% for id, param in parameters.items() -%}
    &{{ param.name }},
    {% endfor %}
};

// *** GROUPS ***

PARAM_GROUP GROUPS[NUM_OF_GROUPS] = {
    {% for id, group in groups.items() -%}
    {
        .id = {{ id }},
        .slots = {
            {%- for name in group %}
            {{- name.upper() }}_ID, {% endfor -%}}
    },
    {% endfor %}
};

// *** COMMANDS ***

CAN_COMMAND_STRUCT can_command = {
    .last_rx = 0,
    .command_id = 0,
    .command_parameter = 0,
    .param_id = CAN_COMMAND_ID
};